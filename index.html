<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’ Elite Jackpot Machine</title>
  <style>
    body {
      background: #1b1b1b;
      color: #e3c77c;
      font-family: 'Georgia', serif;
      text-align: center;
      padding: 20px;
      margin: 0;
      box-sizing: border-box;
    }
    .container {
      background: #2b2b2b;
      border: 3px solid #e3c77c;
      border-radius: 20px;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      width: 100%;
    }
    .slot-machine {
      display: flex;
      justify-content: space-around;
      margin-top: 30px;
      position: relative;
      overflow: hidden;
    }
    .reel {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 180px;
      width: 60px;
      overflow: hidden;
      border: 2px solid #e3c77c;
      border-radius: 10px;
      position: relative;
    }
    .symbol {
      font-size: 2em;
      line-height: 60px;
      height: 60px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
    }
    .spin-button {
      background: #e3c77c;
      border: none;
      padding: 10px 20px;
      font-size: 1.2em;
      color: #1b1b1b;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
      transition: background-color 0.3s;
    }
    .spin-button:hover {
      background-color: #f39c12;
    }
    .display {
      background: #111;
      border: 2px solid #e3c77c;
      padding: 10px;
      margin-top: 20px;
      font-size: 1.2em;
    }
    .result {
      font-size: 1.2em;
      margin-top: 20px;
    }
    input[type="number"] {
      width: 60px;
      padding: 5px;
      border: 1px solid #e3c77c;
      background: #1b1b1b;
      color: #e3c77c;
      font-size: 1em;
      margin-right: 10px;
    }
    /* ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ */
    @media (max-width: 600px) {
      .container {
        padding: 10px;
      }
      .slot-machine {
        flex-direction: column;
        justify-content: center;
      }
      .reel {
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ’ Ğ­Ğ»Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ ĞšĞ»Ğ¸ĞºĞµÑ€</h1>
    <p>Ğ¨Ğ°Ğ½Ñ ÑƒÑĞ¿ĞµÑ…Ğ° (%): 
      <input type="number" id="chanceInput" value="25" min="0.01" max="100" step="0.01">
    </p>
    <p>ĞĞ²Ñ‚Ğ¾ĞºĞ»Ğ¸Ğº: 
      <input type="number" id="autoClicks" value="1" min="1" max="1000">
      Ñ€Ğ°Ğ·
    </p>
    <button class="spin-button" onclick="roll()">Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ</button>

    <div class="slot-machine">
      <div class="reel" id="reel1">
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
      </div>
      <div class="reel" id="reel2">
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
      </div>
      <div class="reel" id="reel3">
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
      </div>
      <div class="reel" id="reel4">
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
      </div>
      <div class="reel" id="reel5">
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ’</div>
        <div class="symbol">ğŸ‹</div>
        <div class="symbol">ğŸ’</div>
      </div>
    </div>

    <div class="result" id="mainResult">ğŸ° ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ...</div>
    <div class="display" id="jackpotInfo">ğŸ’° Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚: Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ Ğ²Ñ‹Ğ¿Ğ°Ğ»</div>
    <div class="display" id="stats">
      <p>Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¾Ğº: 0</p>
      <p>Ğ’ÑĞµĞ³Ğ¾ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹ÑˆĞµĞ¹: 0</p>
      <p>ĞœĞ°Ğ»Ñ‹Ñ… Ğ´Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚Ğ¾Ğ²: 0 | Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ñ…: 0 | Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ñ…: 0</p>
      <p id="groupStats">Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 1: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 2: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 3: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 4: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 5: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 6: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 7: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 8: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 9: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 10: 0 | Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° 11: 0 | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ ĞœĞ°Ğ»Ñ‹Ğ¹: 0 | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹: 0 | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹: 0</p>
    </div>
  </div>

  <script>
    let totalChecks = 0;
    let totalWins = 0;
    let rollsSinceJackpot = 0;
    let jackpotCounts = { small: 0, medium: 0, big: 0 };
    const groupHits = Array(11).fill(0);

    const groupChances = Array.from({ length: 11 }, (_, i) => 100 / Math.pow(2, i + 1));
    const groupNormalized = (() => {
      const total = groupChances.reduce((a, b) => a + b, 0);
      return groupChances.map(c => c / total);
    })();

    // Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ±Ğ°Ñ€Ğ°Ğ±Ğ°Ğ½Ğ¾Ğ²
    const symbols = ['ğŸ’', 'ğŸ‹', 'ğŸ’', 'ğŸ‰', 'ğŸ‡', 'ğŸŠ', 'ğŸ“', 'ğŸ€', 'ğŸ', 'ğŸ¥¥', 'ğŸŒŸ', 'ğŸ”'];

    function roll() {
      const chance = parseFloat(document.getElementById('chanceInput').value);
      const autoClicks = parseInt(document.getElementById('autoClicks').value);

      totalChecks += autoClicks;
      let resultLog = '';
      let jackpotResult = null;

      // ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºĞ¸ Ğ±Ğ°Ñ€Ğ°Ğ±Ğ°Ğ½Ğ¾Ğ²
      spinReels();

      for (let i = 0; i < autoClicks; i++) {
        const roll = Math.random() * 100;
        const isSuccess = roll < chance;

        if (isSuccess) {
          totalWins++;
          const groupIndex = selectGroup();
          groupHits[groupIndex]++;
          resultLog = `âœ… Ğ£ÑĞ¿ĞµÑ…! Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° ${groupIndex + 1}<br>`;
          jackpotResult = checkJackpot();
          if (jackpotResult) {
            resultLog += `ğŸ’° <b>${jackpotResult.toUpperCase()} Ğ”Ğ–Ğ•ĞšĞŸĞĞ¢!</b><br>`;
          }
        } else {
          resultLog = `âŒ ĞŸÑ€Ğ¾Ğ²Ğ°Ğ»<br>`;
        }
      }

      updateUI(resultLog, jackpotResult);
    }

    function selectGroup() {
      const r = Math.random();
      let acc = 0;
      for (let i = 0; i < groupNormalized.length; i++) {
        acc += groupNormalized[i];
        if (r <= acc) return i;
      }
      return groupNormalized.length - 1;
    }

    function checkJackpot() {
      rollsSinceJackpot++;
      let chance = 0;
      let type = null;

      if (rollsSinceJackpot >= 500) {
        chance = 0.05; type = "Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹";
      } else if (rollsSinceJackpot >= 250) {
        chance = 0.01; type = "ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹";
      } else if (rollsSinceJackpot >= 100) {
        chance = 0.005; type = "Ğ¼Ğ°Ğ»Ñ‹Ğ¹";
      }

      if (type && Math.random() < chance) {
        jackpotCounts[type]++;
        rollsSinceJackpot = 0;
        return type;
      }

      return null;
    }

    function updateUI(resultLog, jackpotResult) {
      document.getElementById('mainResult').innerHTML = resultLog;

      if (jackpotResult) {
        document.getElementById('jackpotInfo').innerHTML = `ğŸ’° Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚: ${jackpotResult.toUpperCase()}!`;
      }

      // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ
      document.getElementById('stats').innerHTML = `
        <p>Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¾Ğº: ${totalChecks}</p>
        <p>Ğ’ÑĞµĞ³Ğ¾ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹ÑˆĞµĞ¹: ${totalWins}</p>
        <p>ĞœĞ°Ğ»Ñ‹Ñ… Ğ´Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚Ğ¾Ğ²: ${jackpotCounts.small} | Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ñ…: ${jackpotCounts.medium} | Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ñ…: ${jackpotCounts.big}</p>
      `;

      // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ³Ñ€ÑƒĞ¿Ğ¿
      document.getElementById('groupStats').innerHTML = groupHits.map((count, i) => `Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° ${i + 1}: ${count}`).join(' | ') + 
        ` | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ ĞœĞ°Ğ»Ñ‹Ğ¹: ${jackpotCounts.small} | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹: ${jackpotCounts.medium} | Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚ Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹: ${jackpotCounts.big}`;
    }

    function spinReels() {
      const reels = [document.getElementById('reel1'), document.getElementById('reel2'), document.getElementById('reel3'), document.getElementById('reel4'), document.getElementById('reel5')];

      reels.forEach(reel => {
        let randomSymbols = [...symbols].sort(() => 0.5 - Math.random()).slice(0, 6); // ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğµ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñ‹
        let symbolElements = reel.querySelectorAll('.symbol');

        symbolElements.forEach((symbol, index) => {
          symbol.innerHTML = randomSymbols[index];
        });
      });
    }
  </script>
</body>
</html>
